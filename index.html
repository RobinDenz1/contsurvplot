<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Visualize the Effect of a Continuous Variable on a Time-to-Event Outcome • contsurvplot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Visualize the Effect of a Continuous Variable on a Time-to-Event Outcome">
<meta name="description" content="Graphically display the (causal) effect of a continuous variable on a time-to-event outcome using multiple different types of plots based on g-computation. Those functions include, among others, survival area plots, survival contour plots, survival quantile plots and 3D surface plots. Due to the use of g-computation, all plot allow confounder-adjustment naturally. For details, see Robin Denz, Nina Timmesfeld (2023) &lt;doi:10.1097/EDE.0000000000001630&gt;.">
<meta property="og:description" content="Graphically display the (causal) effect of a continuous variable on a time-to-event outcome using multiple different types of plots based on g-computation. Those functions include, among others, survival area plots, survival contour plots, survival quantile plots and 3D surface plots. Due to the use of g-computation, all plot allow confounder-adjustment naturally. For details, see Robin Denz, Nina Timmesfeld (2023) &lt;doi:10.1097/EDE.0000000000001630&gt;.">
<meta property="og:image" content="https://robindenz1.github.io/contsurvplot/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">contsurvplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/introduction.html">Visualizing the Causal Effect of a Continuous Variable on a Time-To-Event Outcome</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RobinDenz1/contsurvplot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="contsurvplot-">contsurvplot <a class="anchor" aria-label="anchor" href="#contsurvplot-"></a>
</h1>
</div>
<p>Author: Robin Denz</p>
<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p><code>contsurvplot</code> is an R-Package which can be used to visualize the causal effect of a continuous variable on a time-to-event outcome. It includes multiple different plot types, such as survival area plots, contour plots, heatmaps, survival quantile plots and more. All of them can be adjusted for confounders and all of them have a lot of build in options to customize them according to the users needs. Also, most of the plot functions are based on the <code>ggplot2</code> package, allowing the user to use the standard <code>ggplot2</code> syntax to customize the plots further.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The stable release version can be installed directly from CRAN using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"contsurvplot"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, the development version can be installed using the <code>devtools</code> R-Package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"RobinDenz1/contsurvplot"</span><span class="op">)</span></span></code></pre></div>
<p>or the <code>remotes</code> R-Package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"RobinDenz1/contsurvplot"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="bug-reports-and-feature-requests">Bug Reports and Feature Requests<a class="anchor" aria-label="anchor" href="#bug-reports-and-feature-requests"></a>
</h2>
<p>If you encounter any bugs or have any specific feature requests, please file an <a href="https://github.com/RobinDenz1/contsurvplot/issues" class="external-link">Issue</a>.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>Here are two quick examples using the <code>colon</code> dataset from the <code>survival</code> R-Package. Suppose we want to visualize the effect of the number of lymph nodes with detectable cancer (column <code>nodes</code>) on the survival time. A survival area plot can be produced using the following code:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RobinDenz1/contsurvplot" class="external-link">contsurvplot</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tagteam/riskRegression" class="external-link">riskRegression</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load colon data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">cancer</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># fit cox model, adjusting for age and sex</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">nodes</span>, data<span class="op">=</span><span class="va">colon</span>, x<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot survival area</span></span>
<span><span class="fu"><a href="reference/plot_surv_area.html">plot_surv_area</a></span><span class="op">(</span>time<span class="op">=</span><span class="st">"time"</span>,</span>
<span>        status<span class="op">=</span><span class="st">"status"</span>,</span>
<span>        variable<span class="op">=</span><span class="st">"nodes"</span>,</span>
<span>        data<span class="op">=</span><span class="va">colon</span>,</span>
<span>        model<span class="op">=</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/example_area.png"></p>
<p>Alternatively, we can plot a contour plot to visualize the effect:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/plot_surv_contour.html">plot_surv_contour</a></span><span class="op">(</span>time<span class="op">=</span><span class="st">"time"</span>,</span>
<span>          status<span class="op">=</span><span class="st">"status"</span>,</span>
<span>          variable<span class="op">=</span><span class="st">"nodes"</span>,</span>
<span>          data<span class="op">=</span><span class="va">colon</span>,</span>
<span>          model<span class="op">=</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/example_contour.png"></p>
<p>Or we can use a simple plot of the median survival time as a function of <code>nodes</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/plot_surv_quantiles.html">plot_surv_quantiles</a></span><span class="op">(</span>time<span class="op">=</span><span class="st">"time"</span>,</span>
<span>           status<span class="op">=</span><span class="st">"status"</span>,</span>
<span>           variable<span class="op">=</span><span class="st">"nodes"</span>,</span>
<span>           data<span class="op">=</span><span class="va">colon</span>,</span>
<span>           model<span class="op">=</span><span class="va">model</span>,</span>
<span>           p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/example_quantiles.png"></p>
<p>More examples can be found in the documentation and the vignette.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>The main paper associated with this R-Package is:</p>
<p>Robin Denz, Nina Timmesfeld (2023). <em>Visualizing the (causal) effect of a continuous variable on a time-to-event outcome</em>. Epidemiology. 34.5 <a href="doi:10.1097/EDE.0000000000001630" class="uri">doi:10.1097/EDE.0000000000001630</a></p>
<p>In addition, some relevant literature can be found in the documentation pages.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>© 2022 Robin Denz</p>
<p>The contents of this repository are distributed under the GNU General Public License. You can find the full text of this License in this github repository. Alternatively, see <a href="http://www.gnu.org/licenses/" class="external-link uri">http://www.gnu.org/licenses/</a>.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=contsurvplot" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/RobinDenz1/contsurvplot/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/RobinDenz1/contsurvplot/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing contsurvplot</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robin Denz <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active - The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://cran.r-project.org/package=contsurvplot" class="external-link"><img src="https://www.r-pkg.org/badges/version/contsurvplot?color=green"></a></li>
<li><a href="https://cran.r-project.org/package=contsurvplot" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/contsurvplot?color=blue"></a></li>
<li><a href="https://github.com/RobinDenz1/contsurvplot/actions" class="external-link"><img src="https://github.com/RobinDenz1/contsurvplot/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/RobinDenz1/contsurvplot?branch=main" class="external-link"><img src="https://codecov.io/gh/RobinDenz1/contsurvplot/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://doi.org/10.1097/EDE.0000000000001630" class="external-link"><img src="https://img.shields.io/badge/doi-10.1097/EDE.0000000000001630-green.svg"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robin Denz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
